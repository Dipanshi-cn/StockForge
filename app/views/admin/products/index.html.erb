<div class="mb-12 border-b border-gray-100 pb-8 flex items-center justify-between">
  <div>
    <h1 class="text-4xl font-extrabold text-gray-900 mb-2 tracking-tight">Product Inventory</h1>
    <p class="text-gray-500 font-medium italic">Monitor and manage all hardware wholesale stock.</p>
  </div>
  <div>
    <%= link_to "Add New Product", new_admin_product_path, class: "bg-indigo-600 text-white px-8 py-3 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-indigo-700 transition shadow-lg transform hover:-translate-y-1 active:scale-95 flex items-center gap-2" %>
  </div>
</div>

<div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
  <table class="min-w-full divide-y divide-gray-100">
    <thead class="bg-gray-50 uppercase text-xs font-black tracking-widest text-gray-400">
      <tr>
        <th class="px-8 py-5 text-left">Product / SKU</th>
        <th class="px-8 py-5 text-center">Category</th>
        <th class="px-8 py-5 text-center">Stock Level</th>
        <th class="px-8 py-5 text-center">Price (Selling)</th>
        <th class="px-8 py-5 text-right">Actions</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-100 bg-white">
      <% @products.each do |product| %>
        <tr class="hover:bg-gray-50 transition duration-150 group">
          <td class="px-8 py-6">
            <div class="font-black text-gray-900 group-hover:text-indigo-600 transition tracking-tight"><%= product.name %></div>
            <div class="text-xs text-gray-400 font-bold uppercase tracking-widest mt-1"><%= product.brand %> | SKU: <%= product.sku %></div>
          </td>
          <td class="px-8 py-6 text-center">
            <span class="inline-flex items-center px-3 py-1 bg-indigo-50 text-indigo-700 text-xs font-black uppercase tracking-widest rounded-full border border-indigo-100">
              <%= product.category.name %>
            </span>
          </td>
          <td class="px-8 py-6 text-center">
            <div class="flex flex-col items-center">
              <span class="inline-flex items-center px-4 py-2 rounded-xl text-sm font-black tracking-tight shadow-sm
                <%= product.low_stock? ? 'bg-red-100 text-red-800 border border-red-200 shadow-red-100' : 'bg-green-100 text-green-800 border border-green-200 shadow-green-100' %>">
                <%= product.stock_quantity %> <%= product.unit %>
              </span>
              <% if product.low_stock? %>
                <span class="text-red-500 text-[10px] font-black uppercase tracking-widest mt-2 animate-pulse flex items-center gap-1">
                  <svg class="w-2 h-2" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2L1 21h22L12 2zm0 3.99L19.53 19H4.47L12 5.99zM11 16h2v2h-2v-2zm0-6h2v4h-2v-4z"></path></svg>
                  Low Stock Alert
                </span>
              <% end %>
            </div>
          </td>
          <td class="px-8 py-6 text-center text-lg font-black text-gray-900 italic tracking-tighter">
            $<%= number_with_precision(product.selling_price, precision: 2) %>
          </td>
          <td class="px-8 py-6 text-right">
            <div class="flex justify-end gap-6">
              <%= link_to "Edit", edit_admin_product_path(product), class: "text-blue-600 hover:text-blue-800 font-extrabold uppercase text-xs tracking-widest transition" %>
              <%= button_to "Delete", admin_product_path(product), method: :delete, data: { confirm: "Are you sure?" }, class: "text-gray-300 hover:text-red-500 font-extrabold uppercase text-xs tracking-widest transition cursor-pointer" %>
            </div>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<% if @products.empty? %>
  <div class="text-center py-24 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200">
    <div class="bg-white w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-8 text-gray-300 shadow-sm">
       <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path></svg>
    </div>
    <h3 class="text-2xl font-bold text-gray-900 mb-2">No products yet</h3>
    <p class="text-gray-500 mb-10 max-w-sm mx-auto font-medium">Get started by creating your first product in the inventory.</p>
    <%= link_to "Add Product", new_admin_product_path, class: "bg-indigo-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-indigo-700 transition shadow-lg" %>
  </div>
<% end %>
