<div class="mb-12 border-b border-gray-100 pb-8 flex items-center justify-between">
  <div>
    <h1 class="text-4xl font-extrabold text-gray-900 mb-2 tracking-tight"><%= @category.name %></h1>
    <p class="text-gray-500 font-medium italic"><%= @category.description %></p>
  </div>
  <div class="flex items-center gap-6">
    <%= link_to "Edit Category", edit_admin_category_path(@category), class: "text-gray-400 hover:text-indigo-600 font-extrabold uppercase text-xs tracking-widest transition" %>
    <%= link_to "Back to List", admin_categories_path, class: "bg-indigo-50 text-indigo-600 px-6 py-3 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-indigo-100 transition shadow-sm" %>
  </div>
</div>

<h2 class="text-2xl font-black mb-8 text-gray-900 border-l-4 border-blue-600 pl-4 bg-blue-50 py-2">Products in this Category</h2>

<div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
  <table class="min-w-full divide-y divide-gray-100">
    <thead class="bg-gray-50 uppercase text-xs font-black tracking-widest text-gray-400">
      <tr>
        <th class="px-8 py-5 text-left">Product / SKU</th>
        <th class="px-8 py-5 text-center">Stock Level</th>
        <th class="px-8 py-5 text-center">Price</th>
        <th class="px-8 py-5 text-right">Actions</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-100 bg-white">
      <% @category.products.each do |product| %>
        <tr class="hover:bg-gray-50 transition duration-150 group">
          <td class="px-8 py-6">
            <div class="font-black text-gray-900 group-hover:text-indigo-600 transition tracking-tight"><%= product.name %></div>
            <div class="text-xs text-gray-400 font-bold uppercase tracking-widest mt-1"><%= product.brand %> | SKU: <%= product.sku %></div>
          </td>
          <td class="px-8 py-6 text-center">
            <span class="inline-flex items-center px-4 py-2 rounded-xl text-sm font-black tracking-tight shadow-sm
              <%= product.low_stock? ? 'bg-red-100 text-red-800 border border-red-200 shadow-red-100' : 'bg-green-100 text-green-800 border border-green-200 shadow-green-100' %>">
              <%= product.stock_quantity %> <%= product.unit %>
            </span>
          </td>
          <td class="px-8 py-6 text-center text-lg font-black text-gray-900 italic tracking-tighter">
            $<%= number_with_precision(product.selling_price, precision: 2) %>
          </td>
          <td class="px-8 py-6 text-right">
            <%= link_to "Edit", edit_admin_product_path(product), class: "text-blue-600 hover:text-blue-800 font-extrabold uppercase text-xs tracking-widest transition" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<% if @category.products.empty? %>
  <div class="text-center py-24 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200 mt-8">
    <div class="bg-white w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-8 text-gray-300 shadow-sm">
       <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg>
    </div>
    <h3 class="text-2xl font-bold text-gray-900 mb-2">No products in this category</h3>
    <p class="text-gray-500 mb-10 max-w-sm mx-auto font-medium">Add products to this category to populate the list.</p>
    <%= link_to "Add Product", new_admin_product_path(category_id: @category.id), class: "bg-indigo-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-indigo-700 transition shadow-lg" %>
  </div>
<% end %>
